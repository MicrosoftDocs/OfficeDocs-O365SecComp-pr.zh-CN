---
title: 处理 Office 365 内容搜索中的部分索引项
ms.author: markjjo
author: markjjo
manager: laurawi
ms.date: 5/11/2018
ms.audience: Admin
ms.topic: overview
f1_keywords:
- ms.o365.cc.UnindexedItemsLearnMore
ms.service: o365-administration
localization_priority: Normal
ms.collection: Strat_O365_IP
search.appverid:
- SPO160
- MOE150
- MET150
ms.assetid: d1691de4-ca0d-446f-a0d0-373a4fc8487b
description: '了解 Exchange 和 SharePoint 可以包括在内容搜索通过 Office 365 安全性运行中的未编制索引项目&amp;合规性中心。 '
ms.openlocfilehash: 4624985a9c80313d0222470e6cfb2c56495f2142
ms.sourcegitcommit: 36c5466056cdef6ad2a8d9372f2bc009a30892bb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/27/2018
ms.locfileid: "22524932"
---
# <a name="partially-indexed-items-in-content-search-in-office-365"></a>处理 Office 365 内容搜索中的部分索引项

从 Office 365 安全性运行内容搜索&amp;合规性中心自动包括部分索引的项目中估计的搜索结果时运行的搜索。部分索引的项目是 Exchange 邮箱项目和 SharePoint 和 OneDrive 上的一些原因或者没有完全编制索引以搜索业务网站的文档。在 Exchange 中，部分索引的项通常包含一个文件 — 不能编制索引的文件类型 — 附加到电子邮件。下面是一些其他原因项目不能用于搜索索引以及运行搜索时返回作为部分索引项： 
  
- 无法识别或不受支持的索引的文件类型。
    
-  邮件有有效的处理程序中，不附加的文件，如图像文件;这是部分索引的电子邮件项目的最常见原因。 
    
- 文件类型支持检索，但是特定文件出现检索错误。
    
- 附加到电子邮件的文件过多。
    
- 附加到电子邮件的文件过大。
    
- 文件使用非 Microsoft 技术进行加密。
    
- 文件具有密码保护。
    
> [!NOTE]
> 大多数 Office 365 组织按大小部分编制索引的情况下音量和小于 12%具有小于 1%的内容。卷和大小之间的差异的原因是较大的文件具有更高版本包含不能完全编制索引的内容的概率。 
  
对于法律调查，您的组织可能需要查看部分索引的项。您还可以指定是否包括部分索引的项目时将搜索结果导出到本地计算机或结果准备与 Office 365 高级电子数据展示的分析。有关详细信息，请参阅[Investigating 部分索引 Office 365 电子数据展示中的项目](investigating-partially-indexed-items-in-ediscovery.md)。
  
## <a name="file-types-not-indexed-for-search"></a>文件类型未编入索引以供搜索

某些类型的文件，如位图或 MP3 文件不包含可以编制索引的内容。因此，搜索索引服务器在 Exchange 和 SharePoint 不执行全文本索引对这些类型的文件。这些类型的文件被视为不受支持的文件类型。也有为其全文本索引已被禁用，默认情况下，或由管理员的文件类型。不受支持且被禁用的文件类型标记为未编制索引中内容的搜索的项目。如上文所述，部分索引项目可以包含集合中的搜索结果中，运行搜索时，将搜索结果导出到本地计算机，或准备高级电子数据展示搜索结果。 
  
有关支持和禁用的文件格式列表，请参阅以下主题：
  
- **Exchange** - [由 Exchange 搜索编制索引的文件格式](https://go.microsoft.com/fwlink/p/?LinkID=386618)
    
- **Exchange** - [Get-searchdocumentformat](https://go.microsoft.com/fwlink/p/?LinkID=724037)
    
- **SharePoint** - [默认爬网文件扩展名和分析 SharePoint 中的文件类型](https://go.microsoft.com/fwlink/p/?LinkID=404033)
    

  
## <a name="messages-and-documents-with-partially-indexed-file-types-can-be-returned-in-search-results"></a>邮件和文档部分索引的文件可以在搜索结果中返回类型

带部分索引的文件附件不是每个电子邮件或部分已编制索引的每个 SharePoint 文档自动将作为部分索引项返回。这是因为其他消息或文档属性，如电子邮件中的**主题**属性和文档的**标题**或**作者**属性都已编制索引并可用于搜索。例如，如果该关键字出现在电子邮件的主题或文件名或文档的标题中关键字搜索"财务"将返回项目中的部分索引的文件附件。但是，关键字出现仅在文件的正文中，如果邮件或文档将返回为部分索引项。 
  
同样，部分索引的文件附件和部分索引的文件类型的文档的邮件时被包含在搜索结果中其他邮件或文档属性，它们是索引和搜索，符合搜索条件。搜索索引的邮件属性包括在邮件正文中发送和接收日期、 发件人和收件人、 附件和文本的文件名。搜索编制索引的文档属性包括创建和修改日期。因此，尽管邮件附件可能部分索引的项，邮件如果将包含在正则搜索结果中其他邮件或文档属性的值匹配的搜索条件。
  
有关电子邮件和文档属性，您可以通过使用中安全性的搜索功能搜索列表&amp;合规性中心，请参阅[关键字查询和内容搜索的搜索条件](keyword-queries-and-search-conditions.md)。
  

  
## <a name="partially-indexed-items-included-in-the-search-results"></a>在搜索结果中包含的部分索引的项目
<a name="unindexeditemsresults"> </a>

您的组织可能需要确定并确定它们是什么，包含的内容，以及是否正在与特定调查相关的部分索引项目上执行进一步分析。如前所述，要搜索的内容位置中的部分索引的项将自动包含在估计的搜索结果。您可以选择将搜索结果导出或准备高级电子数据展示搜索结果时包括这些部分索引的项。若要在导出搜索结果或准备高级电子数据展示时包括部分索引的项目，选择要包括具有无法识别的格式、 进行加密，或出于其他原因无法编制索引的项目的选项之一。
  
记住以下有关部分索引项目：
  
- 当您运行内容的搜索时的总次数和大小 （由搜索查询返回） 的部分索引项目中显示搜索统计信息的详细信息窗格中，如标记为"未编制索引的项目"。
    
- 如果您选择若要下载 Exchange 项目作为选项时导出搜索结果，包括部分索引的项目中其它们位于，或作为单个邮件的每个邮箱单独 PST 文件的导出部分索引的 Exchange 项目邮件。部分索引的 SharePoint 项目导出到名为**Uncrawlable**的文件夹。
    
- 如果您正在导出结果的搜索特定内容的位置或您的组织中的所有内容位置的搜索，将导出仅包含与搜索条件匹配的项的内容位置中的未编制索引的项。换句话说，如果某个邮箱或站点中不发现的任何搜索结果，然后该邮箱或网站中的任何未编制索引的项目不会导出。原因是，导出部分索引的项目从大量组织中的位置可能增加导出错误的可能性和增加导出和下载的搜索结果所需的时间。
    
    若要从搜索的所有内容位置导出部分索引的项目、 配置搜索以返回 （通过搜索查询中移除所有关键字） 的所有项目，然后将仅部分导出索引项 （通过单击**仅导出搜索结果时具有无法识别的格式的项目进行加密，或出于其他原因或者没有索引**下**输出选项**)。
    
- 如果您选择在搜索结果中，包括所有邮箱项目，或者如果搜索查询未指定任何关键字，或仅指定日期范围，部分索引的项可能不被复制到 PST 文件包含的部分索引的项目。这是因为所有项目，包括任何部分索引的项目，将自动都包含在正则搜索结果。
    
- 部分索引的项目不可用预览。您必须导出搜索结果，以便查看搜索返回的部分索引的项。

## <a name="partially-indexed-items-excluded-from-the-search-results"></a>从搜索结果中排除的部分索引的项目

如果项目部分编制索引，但它不满足搜索查询条件，它将不会包含为在搜索结果中的部分索引项。换句话说，是从搜索结果中排除项目。例如，假设运行搜索和不包含任何关键字或属性因为您想要包括的所有内容。但包含查询的日期范围条件。如果部分索引的项属于该日期范围之外，它将不会包含为部分索引项。日期范围可以有效地从搜索结果中排除的部分索引的项。
  
同样，如果您选择包括部分索引的项目导出的搜索结果时，不会导出已从搜索结果中排除的部分索引的项。
  
创建基于查询的保留电子数据展示事例与相关联时，对此规则的一个例外。如果创建基于查询的保留，所有部分索引的项目被置于保持状态。这包括部分索引不匹配的搜索查询条件的项目和部分索引可能属于外部日期范围条件的项目。包含有关创建基于查询的详细信息，请参阅[Office 365 安全性和合规性中心中的电子数据展示事例](ediscovery-cases.md#step-4-place-content-locations-on-hold)中的步骤 4。
  
## <a name="indexing-limits-for-messages-in-content-search"></a>索引的内容搜索消息的限制

下表描述了可能会导致电子邮件作为 Office 365 中的内容搜索中的部分索引项目返回的索引限制。
  
索引限制的 SharePoint 文档的列表，请参阅[SharePoint online 搜索限制](https://support.office.com/article/7c06e9ed-98b6-4304-a900-14773a8fa32f)。
  
|**索引限制**|**注释**|**说明**|
|:-----|:-----|:-----|
|（不包括 Excel 文件） 的最大附件大小  <br/> |150 MB  <br/> |电子邮件附件编制索引并解析的最大大小。任何附件大于此限制不会分析索引，并包含附件的邮件将被标记为部分编制索引。<br/><br/> **注意：** 分析是索引服务从附件提取文本、 删除不必要的字符，如标点符号和空格，然后用然后存储在索引中的文本为单词 （称为词汇切分的过程） 中的过程。           |
|Excel 文件的最大大小  <br/> |4 MB  <br/> |Excel 文件的最大大小网站上，或附加到电子邮件将索引进行分析。任何大于所不分析此限制，并将文件或电子邮件的文件附件的邮件将被标记为未编制索引的 Excel 文件。  <br/> |
|附件的最大数量  <br/> |250  <br/> |最大文件附加至将索引进行分析的电子邮件数。如果邮件超过 250 个附件前, 250 附件进行分析和索引，并将邮件标记为部分索引，因为它具有其他未解析的附件。  <br/> |
|最大附件深度  <br/> |30  <br/> |最大嵌套分析的附件数。例如，如果电子邮件具有附加到它的另一条消息，并且附加的邮件有附加的 Word 文档，Word 文档和附加的邮件将索引。最多 30 个嵌套附件将继续此行为。  <br/> |
|附加映像的最大数目  <br/> |0  <br/> |图像的附加到电子邮件跳过分析程序和编制索引。  <br/> |
|用于分析项目的最大时间  <br/> |30 秒  <br/> |最多 30 秒用来分析项目的索引。如果分析的时间超过 30 秒，项目标记为部分编制索引。  <br/> |
|最大分析器输出  <br/> |200 万个字符  <br/> |来自编制索引的分析器的文本输出的最大数量。例如，如果分析程序从文档提取 8 万个字符，只有先 2 万个字符编制索引。  <br/> |
|最大注释标记  <br/> |200 万个  <br/> |电子邮件编制索引后，每个单词将批注与指定的 word 应编制索引的不同的处理指令。每个处理指令集称为批注令牌。若要维护 Office 365 中的服务质量，没有电子邮件 2 万个注释标记的限制。  <br/> |
|在索引中的最大正文大小  <br/> |67 万个字符  <br/> |总的电子邮件及其所有附件正文中的字符数。电子邮件编制索引后，为一个字符串串联和所有附件的邮件正文中的所有文字。编制索引此字符串的最大大小为 67 万个字符。  <br/> |
|正文中的最大唯一令牌  <br/> |100 万  <br/> |如上文所述，令牌是从内容中提取文本和删除标点符号和空格，然后将其划分为存储在索引中的单词 （称为标记） 的结果。例如，短语`"cat, mouse, bird, dog, dog"`包含 5 的令牌。但这些仅 4 是唯一的标记。没有电子邮件，有助于防止索引变得太大使用随机令牌每 100 万个唯一标记的限制。<br/> |
   

  
## <a name="more-information-about-partially-indexed-items"></a>有关部分索引项目的详细信息
<a name="moreinfo"> </a>

- 如前面所述，因为 message 和文档属性和其元数据编制索引，则关键字搜索可能如果此关键字出现在索引中的元数据中返回结果。但是，该相同的关键字搜索可能不会返回同一个项目如果关键字仅出现在具有不受支持的文件类型的项的内容。在这种情况下，项目将返回为部分索引项。
    
- 如果部分索引的项包含在搜索结果中，因为它符合搜索查询条件 （和未排除） 然后它将不会包含作为中估计的搜索统计信息的部分索引项。此外，它将不会包含与部分索引项目导出搜索结果时。
    
- 尽管文件类型支持检索，并且已编入索引，但可以在索引编制或搜索将会导致文件作为部分索引项返回的错误。例如，搜索非常大的 Excel 文件可能部分成功 （因为编制索引前 4 MB），但然后失败，因为超出文件大小限制。在这种情况下，则可能与搜索结果以及部分索引项，则返回相同的文件。
    
- 与 Microsoft 技术进行加密的附件编制索引，并可搜索。使用非 Microsoft 技术进行加密的文件部分编制索引。
    
- 使用 S/MIME 加密的电子邮件部分编制索引。这包括使用或不附件的文件的加密的邮件。
    
- 由信息权限管理 (IRM) 保护的邮件已编制索引，因此如果此类邮件匹配查询参数，将会包括在搜索结果中。

## <a name="see-also"></a>另请参阅

[使用 Office 365 电子数据展示调查部分索引项](investigating-partially-indexed-items-in-ediscovery.md)

