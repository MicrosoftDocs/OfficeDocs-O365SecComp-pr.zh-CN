---
title: 信息障碍故障排除
ms.author: deniseb
author: denisebmsft
manager: laurawi
ms.date: 06/28/2019
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
ms.collection:
- M365-security-compliance
localization_priority: None
description: 使用本文作为对信息障碍进行故障排除的指导。
ms.openlocfilehash: 20937fa4ee050dfa1e3bb4fcfcd582b1c78ccead
ms.sourcegitcommit: 011bfa60cafdf47900aadf96a17eb275efa877c4
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/29/2019
ms.locfileid: "35394297"
---
# <a name="troubleshooting-information-barriers-preview"></a><span data-ttu-id="9e9fc-103">解决信息障碍 (预览)</span><span class="sxs-lookup"><span data-stu-id="9e9fc-103">Troubleshooting information barriers (Preview)</span></span>

<span data-ttu-id="9e9fc-104">[信息障碍 (预览版)](information-barriers.md)可帮助您的组织遵守法律要求和行业法规。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-104">[Information barriers (Preview)](information-barriers.md) can help your organization remain compliant with legal requirements and industry regulations.</span></span> <span data-ttu-id="9e9fc-105">例如, 通过信息障碍, 可以限制特定用户组之间的通信, 以避免利益冲突或其他问题。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-105">For example, with information barriers, you can restrict communication between specific groups of users to avoid a conflict of interest or other issues.</span></span> <span data-ttu-id="9e9fc-106">(若要了解有关如何设置信息屏障的详细信息, 请参阅[定义信息障碍策略 (预览版)](information-barriers-policies.md)。)</span><span class="sxs-lookup"><span data-stu-id="9e9fc-106">(To learn more about how to set up information barriers, see [Define policies for information barriers (Preview)](information-barriers-policies.md).)</span></span>

<span data-ttu-id="9e9fc-107">如果用户在发生信息障碍后遇到意外问题, 则可以采取一些步骤来解决这些问题。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-107">In the event that people run into unexpected issues after information barriers are in place, there are some steps you can take to resolve those issues.</span></span> <span data-ttu-id="9e9fc-108">将本文用作指南。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-108">Use this article as a guide.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9e9fc-109">若要执行本文中所述的任务, 必须为您分配适当的角色, 如以下某项:</span><span class="sxs-lookup"><span data-stu-id="9e9fc-109">To perform the tasks described in this article, you must be assigned an appropriate role, such as one of the following:</span></span><br/><span data-ttu-id="9e9fc-110">-Microsoft 365 企业全局管理员</span><span class="sxs-lookup"><span data-stu-id="9e9fc-110">- Microsoft 365 Enterprise Global Administrator</span></span><br/><span data-ttu-id="9e9fc-111">-Office 365 全局管理员</span><span class="sxs-lookup"><span data-stu-id="9e9fc-111">- Office 365 Global Administrator</span></span><br/><span data-ttu-id="9e9fc-112">-合规性管理员</span><span class="sxs-lookup"><span data-stu-id="9e9fc-112">- Compliance Administrator</span></span><br/><span data-ttu-id="9e9fc-113">-IB 合规性管理 (这是一个新角色!)</span><span class="sxs-lookup"><span data-stu-id="9e9fc-113">- IB Compliance Management (this is a new role!)</span></span><p><span data-ttu-id="9e9fc-114">若要了解有关信息障碍的先决条件方面的详细信息, 请参阅[先决条件 (适用于信息屏障策略)](information-barriers-policies.md#prerequisites)。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-114">To learn more about prerequisites for information barriers, see [Prerequisites (for information barrier policies)](information-barriers-policies.md#prerequisites).</span></span><p><span data-ttu-id="9e9fc-115">请确保[连接到 Office 365 安全 & 合规性中心 PowerShell](https://docs.microsoft.com/powershell/exchange/office-365-scc/connect-to-scc-powershell/connect-to-scc-powershell?view=exchange-ps)。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-115">Make sure to [connect to Office 365 Security & Compliance Center PowerShell](https://docs.microsoft.com/powershell/exchange/office-365-scc/connect-to-scc-powershell/connect-to-scc-powershell?view=exchange-ps).</span></span>

## <a name="issue-users-are-unexpectedly-blocked-from-communicating-with-others-in-microsoft-teams"></a><span data-ttu-id="9e9fc-116">问题: 意外阻止用户与 Microsoft 团队中的其他人通信</span><span class="sxs-lookup"><span data-stu-id="9e9fc-116">Issue: Users are unexpectedly blocked from communicating with others in Microsoft Teams</span></span> 

<span data-ttu-id="9e9fc-117">在这种情况下, 用户将报告与 Microsoft 团队中的其他人通信的意外问题。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-117">In this case, people are reporting unexpected issues communicating with others in Microsoft Teams.</span></span> <span data-ttu-id="9e9fc-118">示例：</span><span class="sxs-lookup"><span data-stu-id="9e9fc-118">Examples:</span></span>
- <span data-ttu-id="9e9fc-119">用户在 Microsoft 团队中搜索, 但找不到另一个用户。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-119">A user searches for, but is unable to find, another user in Microsoft Teams.</span></span>
- <span data-ttu-id="9e9fc-120">用户可以在 Microsoft 团队中查找其他用户, 但不能选择。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-120">A user can find, but cannot select, another user in Microsoft Teams.</span></span>
- <span data-ttu-id="9e9fc-121">用户可以查看其他用户, 但不能向 Microsoft 团队中的其他用户发送邮件。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-121">A user can see another user, but cannot send messages to that other user in Microsoft Teams.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="9e9fc-122">需执行的操作</span><span class="sxs-lookup"><span data-stu-id="9e9fc-122">What to do</span></span>

<span data-ttu-id="9e9fc-123">确定用户是否受信息屏障策略的影响。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-123">Determine whether the users are affected by an information barrier policy.</span></span> <span data-ttu-id="9e9fc-124">根据策略的配置方式, 信息障碍可能按预期工作。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-124">Depending on how policies are configured, information barriers might be working as expected.</span></span> <span data-ttu-id="9e9fc-125">或者, 您可能必须优化组织的策略。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-125">Or, you might have to refine your organization's policies.</span></span>

1. <span data-ttu-id="9e9fc-126">将**InformationBarrierRecipientStatus** Cmdlet 与 Identity 参数一起使用。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-126">Use the **Get-InformationBarrierRecipientStatus** cmdlet with the Identity parameter.</span></span> 

    |<span data-ttu-id="9e9fc-127">语法</span><span class="sxs-lookup"><span data-stu-id="9e9fc-127">Syntax</span></span>  |<span data-ttu-id="9e9fc-128">示例</span><span class="sxs-lookup"><span data-stu-id="9e9fc-128">Example</span></span>  |
    |---------|---------|
    | `Get-InformationBarrierRecipientStatus -Identity` <p><span data-ttu-id="9e9fc-129">您可以使用任何标识值来唯一标识每个收件人, 如名称、别名、可分辨名称 (DN)、规范 DN、电子邮件地址或 GUID。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-129">You can use any identity value that uniquely identifies each recipient, such as Name, Alias, Distinguished name (DN), Canonical DN, Email address, or GUID.</span></span>     |`Get-InformationBarrierRecipientStatus -Identity meganb` <p><span data-ttu-id="9e9fc-130">在此示例中, 我们使用 Identity 参数的别名 (*meganb*)。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-130">In this example, we are using an alias (*meganb*) for the Identity parameter.</span></span> <span data-ttu-id="9e9fc-131">此 cmdlet 将返回指示用户是否受信息屏障策略影响的信息。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-131">This cmdlet will return information that indicates whether the user is affected by an information barrier policy.</span></span> <span data-ttu-id="9e9fc-132">(查找 \* ExoPolicyId: \<GUID>。)</span><span class="sxs-lookup"><span data-stu-id="9e9fc-132">(Look for \*ExoPolicyId: \<GUID>.)</span></span>         |

    <span data-ttu-id="9e9fc-133">**如果用户未包含在信息屏障策略中, 请联系支持人员**。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-133">**If the users are not included in information barrier policies, contact support**.</span></span> <span data-ttu-id="9e9fc-134">否则，继续执行下一步。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-134">Otherwise, proceed to the next step.</span></span>

2. <span data-ttu-id="9e9fc-135">了解信息屏障策略中包括的段落。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-135">Find out which segments are included in an information barrier policy.</span></span> <span data-ttu-id="9e9fc-136">若要执行此操作, `Get-InformationBarrierPolicy`请将 Cmdlet 与 Identity 参数结合使用。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-136">To do this, use the `Get-InformationBarrierPolicy` cmdlet with the Identity parameter.</span></span> 

    |<span data-ttu-id="9e9fc-137">语法</span><span class="sxs-lookup"><span data-stu-id="9e9fc-137">Syntax</span></span>  |<span data-ttu-id="9e9fc-138">示例</span><span class="sxs-lookup"><span data-stu-id="9e9fc-138">Example</span></span>  |
    |---------|---------|
    |`Get-InformationBarrierPolicy` <p><span data-ttu-id="9e9fc-139">使用在上一步中收到的策略 GUID (ExoPolicyId) 等详细信息作为标识值。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-139">Use details, such as the policy GUID (ExoPolicyId) you received during the previous step, as an identity value.</span></span>     | `Get-InformationBarrierPolicy -Identity b42c3d0f-49e9-4506-a0a5-bf2853b5df6f` <p><span data-ttu-id="9e9fc-140">在此示例中, 我们将获取有关具有 ExoPolicyId *b42c3d0f-49e9-4506-a0a5-bf2853b5df6f*的信息屏障策略的详细信息。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-140">In this example, we are getting detailed information about the information barrier policy that has ExoPolicyId *b42c3d0f-49e9-4506-a0a5-bf2853b5df6f*.</span></span>         |

    <span data-ttu-id="9e9fc-141">运行 cmdlet 后, 在 "结果" 中, 查找 " **AssignedSegment**"、" **SegmentsAllowed**" 和 " **SegmentsBlocked** " 值。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-141">After you run the cmdlet, in the results, look for **AssignedSegment**, **SegmentsAllowed**, and **SegmentsBlocked** values.</span></span>

    <span data-ttu-id="9e9fc-142">例如, 运行`Get-InformationBarrierPolicy` cmdlet 后, 我们在结果列表中看到以下内容:</span><span class="sxs-lookup"><span data-stu-id="9e9fc-142">For example, after running the `Get-InformationBarrierPolicy` cmdlet, we saw the following in our list of results:</span></span>

    ```powershell
        AssignedSegment      : Sales
        SegmentsAllowed      : {}
        SegmentsBlocked      : {Research}
    ```
    <span data-ttu-id="9e9fc-143">在这种情况下, 我们可以看到信息障碍策略会影响销售和研究领域中的人员。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-143">In this case, we can see that an information barrier policy affects people who are in the Sales and Research segments.</span></span> <span data-ttu-id="9e9fc-144">在这种情况下, 将阻止 Sales 中的人员与 "调查" 中的人员进行通信。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-144">In this case, people in Sales are prevented from communicating with people in Research.</span></span> 
    
    <span data-ttu-id="9e9fc-145">如果看上去正确, 则信息障碍按预期工作。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-145">If this seems correct, then information barriers are working as expected.</span></span> <span data-ttu-id="9e9fc-146">如果不是, 请继续执行下一步。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-146">If not, proceed to the next step.</span></span>

4. <span data-ttu-id="9e9fc-147">请确保正确定义了段。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-147">Make sure your segments are defined correctly.</span></span> <span data-ttu-id="9e9fc-148">为此, 请使用`Get-OrganizationSegment` cmdlet, 并查看结果列表。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-148">To do this, use the `Get-OrganizationSegment` cmdlet, and review the list of results.</span></span> 

    |<span data-ttu-id="9e9fc-149">语法</span><span class="sxs-lookup"><span data-stu-id="9e9fc-149">Syntax</span></span>  |<span data-ttu-id="9e9fc-150">示例</span><span class="sxs-lookup"><span data-stu-id="9e9fc-150">Example</span></span>  |
    |---------|---------|
    |`Get-OrganizationSegment`<p><span data-ttu-id="9e9fc-151">将此 cmdlet 与 Identity 参数一起使用。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-151">Use this cmdlet with an Identity parameter.</span></span>     |`Get-OrganizationSegment -Identity c96e0837-c232-4a8a-841e-ef45787d8fcd` <p><span data-ttu-id="9e9fc-152">在此示例中, 我们将获取有关具有 GUID *c96e0837-c232-4a8a-841e-ef45787d8fcd*的段的信息。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-152">In this example, we are getting information about the segment that has GUID *c96e0837-c232-4a8a-841e-ef45787d8fcd*.</span></span>         |

    <span data-ttu-id="9e9fc-153">查看段的详细信息。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-153">Review the details for the segment.</span></span> <span data-ttu-id="9e9fc-154">如有必要, 请[编辑段](information-barriers-edit-segments-policies.md.md#edit-a-segment), 然后重新使用`Start-InformationBarrierPoliciesApplication` cmdlet。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-154">If necessary, [edit a segment](information-barriers-edit-segments-policies.md.md#edit-a-segment), and then re-use the `Start-InformationBarrierPoliciesApplication` cmdlet.</span></span>

    <span data-ttu-id="9e9fc-155">**如果您仍遇到信息障碍策略问题, 请联系支持人员**。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-155">**If you are still having issues with your information barrier policy, contact support**.</span></span>

## <a name="issue-communications-are-allowed-between-users-who-should-be-blocked-in-microsoft-teams"></a><span data-ttu-id="9e9fc-156">问题: 允许在 Microsoft 团队中阻止的用户之间进行通信</span><span class="sxs-lookup"><span data-stu-id="9e9fc-156">Issue: Communications are allowed between users who should be blocked in Microsoft Teams</span></span>

<span data-ttu-id="9e9fc-157">在这种情况下, 尽管信息障碍已定义、活动和应用, 但应阻止相互通信的人员能够在 Microsoft 团队中相互聊天和呼叫。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-157">In this case, although information barriers are defined, active, and applied, people who should be prevented from communicating with each other are somehow able to chat with and call each other in Microsoft Teams.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="9e9fc-158">需执行的操作</span><span class="sxs-lookup"><span data-stu-id="9e9fc-158">What to do</span></span>

<span data-ttu-id="9e9fc-159">验证相关用户是否包含在信息屏障策略中。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-159">Verify that the users in question are included in an information barrier policy.</span></span> 

1. <span data-ttu-id="9e9fc-160">使用具有 Identity 参数的**InformationBarrierRecipientStatus** cmdlet。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-160">Use the **Get-InformationBarrierRecipientStatus** cmdlet with Identity parameters.</span></span>

    |<span data-ttu-id="9e9fc-161">语法</span><span class="sxs-lookup"><span data-stu-id="9e9fc-161">Syntax</span></span>  |<span data-ttu-id="9e9fc-162">示例</span><span class="sxs-lookup"><span data-stu-id="9e9fc-162">Example</span></span>  |
    |---------|---------|
    |`Get-InformationBarrierRecipientStatus -Identity <value> -Identity2 <value>` <p><span data-ttu-id="9e9fc-163">您可以使用任何唯一标识每个用户的值, 如名称、别名、可分辨名称、规范域名、电子邮件地址或 GUID。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-163">You can use any value that uniquely identifies each user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span>     |`Get-InformationBarrierRecipientStatus -Identity meganb -Identity2 alexw` <p><span data-ttu-id="9e9fc-164">在此示例中, 我们引用 Office 365 中的两个用户帐户: *meganb* for *Megan*和*alexw* for *Alex*。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-164">In this example, we refer to two user accounts in Office 365: *meganb* for *Megan*, and *alexw* for *Alex*.</span></span>          |

    
    > [!TIP]
    > <span data-ttu-id="9e9fc-165">您还可以将此 cmdlet 用于单个用户:`Get-InformationBarrierRecipientStatus -Identity <value>`</span><span class="sxs-lookup"><span data-stu-id="9e9fc-165">You can also use this cmdlet for a single user: `Get-InformationBarrierRecipientStatus -Identity <value>`</span></span>
    
2. <span data-ttu-id="9e9fc-166">查看发现。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-166">Review the findings.</span></span> <span data-ttu-id="9e9fc-167">**InformationBarrierRecipientStatus** cmdlet 返回有关用户的信息, 如属性值和应用的任何信息障碍策略。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-167">The **Get-InformationBarrierRecipientStatus** cmdlet returns information about users, such as attribute values and any information barrier policies that are applied.</span></span> 

    <span data-ttu-id="9e9fc-168">查看结果, 然后执行下一步, 如下表所述:</span><span class="sxs-lookup"><span data-stu-id="9e9fc-168">Review the results, and then take your next steps, as described in the following table:</span></span>
    
    |<span data-ttu-id="9e9fc-169">结果</span><span class="sxs-lookup"><span data-stu-id="9e9fc-169">Results</span></span>  |<span data-ttu-id="9e9fc-170">下一步操作</span><span class="sxs-lookup"><span data-stu-id="9e9fc-170">What to do next</span></span>  |
    |---------|---------|
    |<span data-ttu-id="9e9fc-171">未列出所选用户的任何段</span><span class="sxs-lookup"><span data-stu-id="9e9fc-171">No segments are listed for the selected user(s)</span></span>     |<span data-ttu-id="9e9fc-172">执行下列操作之一：</span><span class="sxs-lookup"><span data-stu-id="9e9fc-172">Do one of the following:</span></span><br/><span data-ttu-id="9e9fc-173">-通过在 Azure Active Directory 中编辑用户配置文件, 将用户分配到现有分段。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-173">- Assign users to an existing segment by editing their user profiles in Azure Active Directory.</span></span> <span data-ttu-id="9e9fc-174">(请参阅[Configure user account properties With Office 365 PowerShell](https://docs.microsoft.com/office365/enterprise/powershell/configure-user-account-properties-with-office-365-powershell)。)</span><span class="sxs-lookup"><span data-stu-id="9e9fc-174">(See [Configure user account properties with Office 365 PowerShell](https://docs.microsoft.com/office365/enterprise/powershell/configure-user-account-properties-with-office-365-powershell).)</span></span><br/><span data-ttu-id="9e9fc-175">-使用[受支持的信息障碍属性](information-barriers-attributes.md)定义段。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-175">- Define a segment using a [supported attribute for information barriers](information-barriers-attributes.md).</span></span> <span data-ttu-id="9e9fc-176">然后,[定义新策略](information-barriers-policies.md#part-2-define-information-barrier-policies)或[编辑现有策略](information-barriers-edit-segments-policies.md.md#edit-a-policy)以包含该分段。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-176">Then, either [define a new policy](information-barriers-policies.md#part-2-define-information-barrier-policies) or [edit an existing policy](information-barriers-edit-segments-policies.md.md#edit-a-policy) to include that segment.</span></span>  |
    |<span data-ttu-id="9e9fc-177">列出了分段, 但没有为这些分段分配信息障碍策略</span><span class="sxs-lookup"><span data-stu-id="9e9fc-177">Segments are listed but no information barrier policies are assigned to those segments</span></span>     |<span data-ttu-id="9e9fc-178">执行下列操作之一：</span><span class="sxs-lookup"><span data-stu-id="9e9fc-178">Do one of the following:</span></span><br/><span data-ttu-id="9e9fc-179">- 为问题的每个段[定义新的信息障碍策略](information-barriers-policies.md#part-2-define-information-barrier-policies)</span><span class="sxs-lookup"><span data-stu-id="9e9fc-179">- [Define a new information barrier policy](information-barriers-policies.md#part-2-define-information-barrier-policies) for each segment in question</span></span><br/><span data-ttu-id="9e9fc-180">- [编辑现有的信息屏障策略](information-barriers-edit-segments-policies.md.md#edit-a-policy)以将其分配给正确的段</span><span class="sxs-lookup"><span data-stu-id="9e9fc-180">- [Edit an existing information barrier policy](information-barriers-edit-segments-policies.md.md#edit-a-policy) to assign it to the correct segment</span></span>         |
    |<span data-ttu-id="9e9fc-181">列出了分段, 每个段都包含在信息屏障策略中</span><span class="sxs-lookup"><span data-stu-id="9e9fc-181">Segments are listed and each is included in an information barrier policy</span></span>     |<span data-ttu-id="9e9fc-182">-运行`Get-InformationBarrierPolicy` cmdlet 以验证信息屏障策略是否处于活动状态</span><span class="sxs-lookup"><span data-stu-id="9e9fc-182">- Run the `Get-InformationBarrierPolicy` cmdlet to verify that information barrier policies are active</span></span><br/><span data-ttu-id="9e9fc-183">-运行`Get-InformationBarrierPoliciesApplicationStatus` cmdlet 以确认应用了策略</span><span class="sxs-lookup"><span data-stu-id="9e9fc-183">- Run the `Get-InformationBarrierPoliciesApplicationStatus` cmdlet to confirm the policies are applied</span></span><br/><span data-ttu-id="9e9fc-184">-运行`Start-InformationBarrierPoliciesApplication` cmdlet 以应用所有活动信息屏障策略</span><span class="sxs-lookup"><span data-stu-id="9e9fc-184">- Run the `Start-InformationBarrierPoliciesApplication` cmdlet to apply all active information barrier policies</span></span>          |
    

## <a name="issue-i-need-to-remove-a-single-user-from-an-information-barrier-policy"></a><span data-ttu-id="9e9fc-185">问题: 我需要从信息屏障策略中删除一个用户</span><span class="sxs-lookup"><span data-stu-id="9e9fc-185">Issue: I need to remove a single user from an information barrier policy</span></span>

<span data-ttu-id="9e9fc-186">在这种情况下, 信息屏障策略生效, 并且意外阻止了一个或多个用户与 Microsoft 团队中的其他用户通信。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-186">In this case, information barrier policies are in effect, and a one or more users are unexpectedly blocked from communicating with others in Microsoft Teams.</span></span> <span data-ttu-id="9e9fc-187">您可以从信息屏障策略中删除一个或多个单个用户, 而无需完全删除信息障碍策略。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-187">Rather than remove information barrier policies altogether, you can remove one or more individual users from information barrier policies.</span></span> 

### <a name="what-to-do"></a><span data-ttu-id="9e9fc-188">需执行的操作</span><span class="sxs-lookup"><span data-stu-id="9e9fc-188">What to do</span></span>

<span data-ttu-id="9e9fc-189">信息屏障策略被分配给用户的各个部分。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-189">Information barrier policies are assigned to segments of users.</span></span> <span data-ttu-id="9e9fc-190">分段是通过使用[用户帐户配置文件中](information-barriers-attributes.md)的某些属性来定义的。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-190">Segments are defined by using certain [attributes in user account profiles](information-barriers-attributes.md).</span></span> <span data-ttu-id="9e9fc-191">如果必须从单个用户中删除策略, 请考虑在 Azure Active Directory 中编辑该用户的配置文件, 以使该用户不再包含在受信息障碍影响的段中。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-191">If you must remove a policy from a single user, consider editing that user's profile in Azure Active Directory such that the user is no longer included in a segment affected by information barriers.</span></span>

1. <span data-ttu-id="9e9fc-192">使用具有 Identity 参数的**InformationBarrierRecipientStatus** cmdlet。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-192">Use the **Get-InformationBarrierRecipientStatus** cmdlet with Identity parameters.</span></span> <span data-ttu-id="9e9fc-193">此 cmdlet 返回有关用户的信息, 如属性值和应用的任何信息障碍策略。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-193">This cmdlet returns information about users, such as attribute values and any information barrier policies that are applied.</span></span>

    |<span data-ttu-id="9e9fc-194">语法</span><span class="sxs-lookup"><span data-stu-id="9e9fc-194">Syntax</span></span>  |<span data-ttu-id="9e9fc-195">示例</span><span class="sxs-lookup"><span data-stu-id="9e9fc-195">Example</span></span>  |
    |---------|---------|
    |`Get-InformationBarrierRecipientStatus -Identity <value> -Identity2 <value>`<p><span data-ttu-id="9e9fc-196">您可以使用任何唯一标识每个用户的值, 如名称、别名、可分辨名称、规范域名、电子邮件地址或 GUID。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-196">You can use any value that uniquely identifies each user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span>     |`Get-InformationBarrierRecipientStatus -Identity meganb -Identity2 alexw` <p><span data-ttu-id="9e9fc-197">在此示例中, 我们引用 Office 365 中的两个用户帐户: *meganb* for *Megan*和*alexw* for *Alex*。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-197">In this example, we refer to two user accounts in Office 365: *meganb* for *Megan*, and *alexw* for *Alex*.</span></span>          |
    |`Get-InformationBarrierRecipientStatus -Identity <value>` <p><span data-ttu-id="9e9fc-198">您可以使用任何能够唯一标识用户的值, 如名称、别名、可分辨名称、规范域名、电子邮件地址或 GUID。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-198">You can use any value that uniquely identifies the user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span>|`Get-InformationBarrierRecipientStatus -Identity jeanp`<p><span data-ttu-id="9e9fc-199">在此示例中, 我们引用 Office 365: *jeanp*中的单个帐户。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-199">In this example, we refer to a single account in Office 365: *jeanp*.</span></span> |

2. <span data-ttu-id="9e9fc-200">查看结果以查看是否分配了信息屏障策略, 以及用户属于哪些网段。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-200">Review the results to see if information barrier policies are assigned, and to which segment(s) the user(s) belong.</span></span> 

3. <span data-ttu-id="9e9fc-201">若要从受信息障碍影响的段中删除用户, 请[在 Azure Active Directory 中更新用户的配置文件信息](https://docs.microsoft.com/azure/active-directory/fundamentals/active-directory-users-profile-azure-portal)。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-201">To remove a user from a segment affected by information barriers, [update the user's profile information in Azure Active Directory](https://docs.microsoft.com/azure/active-directory/fundamentals/active-directory-users-profile-azure-portal).</span></span>

4. <span data-ttu-id="9e9fc-202">大约等待30分钟, FwdSync 才会发生。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-202">Wait about 30 minutes for FwdSync to occur.</span></span> <span data-ttu-id="9e9fc-203">或者, 运行`Start-InformationBarrierPoliciesApplication` cmdlet 以应用所有活动的信息屏障策略。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-203">Or, run the `Start-InformationBarrierPoliciesApplication` cmdlet to apply all active information barrier policies.</span></span>

## <a name="issue-the-information-barrier-application-process-is-taking-too-long"></a><span data-ttu-id="9e9fc-204">问题: 信息障碍应用程序进程花费的时间太长</span><span class="sxs-lookup"><span data-stu-id="9e9fc-204">Issue: The information barrier application process is taking too long</span></span>

<span data-ttu-id="9e9fc-205">运行**InformationBarrierPoliciesApplication** cmdlet 后, 该过程将花费很长时间才能完成。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-205">After running the **Start-InformationBarrierPoliciesApplication** cmdlet, the process is taking a really long time to finish.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="9e9fc-206">需执行的操作</span><span class="sxs-lookup"><span data-stu-id="9e9fc-206">What to do</span></span>

<span data-ttu-id="9e9fc-207">请注意, 在运行策略应用程序 cmdlet 时, 将为组织中的所有帐户应用 (或删除) 用户的信息屏障策略。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-207">Keep in mind that when you run the policy application cmdlet, information barrier policies are being applied (or removed), user by user, for all accounts in your organization.</span></span> <span data-ttu-id="9e9fc-208">如果有很多用户, 需要一段时间才能处理。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-208">If you have a lot of users, it will take a while to process.</span></span> <span data-ttu-id="9e9fc-209">(一般原则是, 处理5000用户帐户需要大约一小时的时间。)</span><span class="sxs-lookup"><span data-stu-id="9e9fc-209">(As a general guideline, it takes about an hour to process 5,000 user accounts.)</span></span>

1. <span data-ttu-id="9e9fc-210">使用**InformationBarrierPoliciesApplicationStatus** cmdlet 验证最近策略应用程序的状态。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-210">Use the **Get-InformationBarrierPoliciesApplicationStatus** cmdlet to verify status of the most recent policy application.</span></span>

    |<span data-ttu-id="9e9fc-211">查看最新的策略应用程序</span><span class="sxs-lookup"><span data-stu-id="9e9fc-211">To view the most recent policy application</span></span>  |<span data-ttu-id="9e9fc-212">查看所有策略应用程序的状态</span><span class="sxs-lookup"><span data-stu-id="9e9fc-212">To view status for all policy applications</span></span>  |
    |---------|---------|
    |`Get-InformationBarrierPoliciesApplicationStatus`     |`Get-InformationBarrierPoliciesApplicationStatus -All $true`         |


    <span data-ttu-id="9e9fc-213">这将显示有关策略应用程序是已完成、失败还是正在进行的信息。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-213">This will display information about whether policy application completed, failed, or is in progress.</span></span>

2. <span data-ttu-id="9e9fc-214">根据上一步的结果, 执行下列步骤之一:</span><span class="sxs-lookup"><span data-stu-id="9e9fc-214">Depending on the results of the previous step, take one of the following steps:</span></span>
  
    |<span data-ttu-id="9e9fc-215">状态</span><span class="sxs-lookup"><span data-stu-id="9e9fc-215">Status</span></span>  |<span data-ttu-id="9e9fc-216">后续步骤</span><span class="sxs-lookup"><span data-stu-id="9e9fc-216">Next step</span></span>  |
    |---------|---------|
    |<span data-ttu-id="9e9fc-217">**未启动**</span><span class="sxs-lookup"><span data-stu-id="9e9fc-217">**Not started**</span></span>     |<span data-ttu-id="9e9fc-218">如果自运行**InformationBarrierPoliciesApplication** cmdlet 后, 它已超过45分钟, 请查看您的审核日志, 以确定策略定义中是否存在任何错误, 或者应用程序尚未启动的其他原因。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-218">If it has been more than 45 minutes since the **Start-InformationBarrierPoliciesApplication** cmdlet has been run, review your audit log to see if there are any errors in policy definitions, or some other reason why the application has not started.</span></span> |
    |<span data-ttu-id="9e9fc-219">**失败**</span><span class="sxs-lookup"><span data-stu-id="9e9fc-219">**Failed**</span></span>     |<span data-ttu-id="9e9fc-220">如果应用程序失败, 请查看您的审核日志。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-220">If the application has failed, review your audit log.</span></span> <span data-ttu-id="9e9fc-221">此外, 还应查看你的段落和策略。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-221">Also review your segments and policies.</span></span> <span data-ttu-id="9e9fc-222">是否有任何用户分配到多个段？</span><span class="sxs-lookup"><span data-stu-id="9e9fc-222">Are any users assigned to more than one segment?</span></span> <span data-ttu-id="9e9fc-223">是否为任何段分配了多个 poliicy？</span><span class="sxs-lookup"><span data-stu-id="9e9fc-223">Are any segments assigned more than one poliicy?</span></span> <span data-ttu-id="9e9fc-224">如有必要, 请[编辑分段](information-barriers-edit-segments-policies.md.md#edit-a-segment)和/或[编辑策略](information-barriers-edit-segments-policies.md.md#edit-a-policy), 然后再次运行**InformationBarrierPoliciesApplication** cmdlet。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-224">If necessary, [edit segments](information-barriers-edit-segments-policies.md.md#edit-a-segment) and/or [edit policies](information-barriers-edit-segments-policies.md.md#edit-a-policy), and then run the **Start-InformationBarrierPoliciesApplication** cmdlet again.</span></span>  |
    |<span data-ttu-id="9e9fc-225">**进行中**</span><span class="sxs-lookup"><span data-stu-id="9e9fc-225">**In progress**</span></span>     |<span data-ttu-id="9e9fc-226">如果仍在运行应用程序, 请等待更多的时间完成。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-226">If the application is still in progress, allow more time for it to complete.</span></span> <span data-ttu-id="9e9fc-227">如果是几天, 请收集你的审核日志, 然后与支持人员联系。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-227">If it has been several days, gather your audit logs, and then contact support.</span></span> |

## <a name="issue-information-barrier-policies-are-not-being-applied-at-all"></a><span data-ttu-id="9e9fc-228">问题: 根本不应用信息屏障策略</span><span class="sxs-lookup"><span data-stu-id="9e9fc-228">Issue: Information barrier policies are not being applied at all</span></span>

<span data-ttu-id="9e9fc-229">在这种情况下, 您已定义了分段, 定义了信息屏障策略, 并试图应用这些策略。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-229">In this case, you have defined segments, defined information barrier policies, and have attempted to apply those policies.</span></span> <span data-ttu-id="9e9fc-230">但是, 在运行`Get-InformationBarrierPoliciesApplicationStatus` cmdlet 时, 可以看到策略应用程序已失败。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-230">However, when you run the `Get-InformationBarrierPoliciesApplicationStatus` cmdlet, you can see that policy application has failed.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="9e9fc-231">需执行的操作</span><span class="sxs-lookup"><span data-stu-id="9e9fc-231">What to do</span></span>

<span data-ttu-id="9e9fc-232">请确保您的组织没有适当的[Exchange 通讯簿策略](https://docs.microsoft.com/exchange/address-books/address-book-policies/address-book-policies)。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-232">Make sure that your organization does not have [Exchange address book policies](https://docs.microsoft.com/exchange/address-books/address-book-policies/address-book-policies) in place.</span></span> <span data-ttu-id="9e9fc-233">此类策略将阻止应用信息障碍策略。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-233">Such policies will prevent information barrier policies from being applied.</span></span>

1. <span data-ttu-id="9e9fc-234">连接到 [Exchange Online PowerShell](https://docs.microsoft.com/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/connect-to-exchange-online-powershell?view=exchange-ps)。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-234">Connect to [Exchange Online PowerShell](https://docs.microsoft.com/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/connect-to-exchange-online-powershell?view=exchange-ps).</span></span> 

2. <span data-ttu-id="9e9fc-235">运行[AddressBookPolicy](https://docs.microsoft.com/powershell/module/exchange/email-addresses-and-address-books/get-addressbookpolicy?view=exchange-ps) cmdlet, 并查看结果。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-235">Run the [Get-AddressBookPolicy](https://docs.microsoft.com/powershell/module/exchange/email-addresses-and-address-books/get-addressbookpolicy?view=exchange-ps) cmdlet, and review the results.</span></span>

    |<span data-ttu-id="9e9fc-236">结果</span><span class="sxs-lookup"><span data-stu-id="9e9fc-236">Results</span></span>  |<span data-ttu-id="9e9fc-237">后续步骤</span><span class="sxs-lookup"><span data-stu-id="9e9fc-237">Next step</span></span>  |
    |---------|---------|
    |<span data-ttu-id="9e9fc-238">Exchange 通讯簿策略列出</span><span class="sxs-lookup"><span data-stu-id="9e9fc-238">Exchange address book policies are listed</span></span>     |[<span data-ttu-id="9e9fc-239">删除通讯簿策略</span><span class="sxs-lookup"><span data-stu-id="9e9fc-239">Remove address book policies</span></span>](https://docs.microsoft.com/exchange/address-books/address-book-policies/remove-an-address-book-policy)         |
    |<span data-ttu-id="9e9fc-240">不存在通讯簿策略</span><span class="sxs-lookup"><span data-stu-id="9e9fc-240">No address book policies exist</span></span> |<span data-ttu-id="9e9fc-241">查看您的审核日志以找出策略应用程序失败的原因</span><span class="sxs-lookup"><span data-stu-id="9e9fc-241">Review your audit logs to find out why policy application is failing</span></span> |

3. <span data-ttu-id="9e9fc-242">[查看用户帐户、段、策略或策略应用程序的状态](information-barriers-policies.md#view-status-of-user-accounts-segments-policies-or-policy-application)。</span><span class="sxs-lookup"><span data-stu-id="9e9fc-242">[View status of user accounts, segments, policies, or policy application](information-barriers-policies.md#view-status-of-user-accounts-segments-policies-or-policy-application).</span></span>

## <a name="related-topics"></a><span data-ttu-id="9e9fc-243">相关主题</span><span class="sxs-lookup"><span data-stu-id="9e9fc-243">Related topics</span></span>

[<span data-ttu-id="9e9fc-244">为 Microsoft 团队中的信息障碍定义策略 (预览)</span><span class="sxs-lookup"><span data-stu-id="9e9fc-244">Define policies for information barriers in Microsoft Teams (Preview)</span></span>](information-barriers-policies.md)

[<span data-ttu-id="9e9fc-245">信息障碍 (预览)</span><span class="sxs-lookup"><span data-stu-id="9e9fc-245">Information barriers (Preview)</span></span>](information-barriers.md)



